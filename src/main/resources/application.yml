server:
  port: 8080  # æœåŠ¡å™¨ç«¯å£

spring:
  application:
    name: smart-learning-platform  # æ™ºèƒ½å­¦ä¹ å¹³å°åº”ç”¨åç§°

  # Redisç¼“å­˜é…ç½®
  data:
    redis:
      host: ${REDIS_HOST:localhost}  # RedisæœåŠ¡å™¨åœ°å€
      port: ${REDIS_PORT:6379}       # RedisæœåŠ¡å™¨ç«¯å£
      database: ${REDIS_DB:0}        # ä½¿ç”¨çš„æ•°æ®åº“ç´¢å¼•
      timeout: 10000                 # è¿æ¥è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰
      lettuce:
        pool:
          max-active: 8               # è¿æ¥æ± æœ€å¤§è¿æ¥æ•°
          max-wait: -1               # è¿æ¥æ± æœ€å¤§é˜»å¡ç­‰å¾…æ—¶é—´ï¼ˆä½¿ç”¨è´Ÿå€¼è¡¨ç¤ºæ²¡æœ‰é™åˆ¶ï¼‰
          max-idle: 8                # è¿æ¥æ± ä¸­çš„æœ€å¤§ç©ºé—²è¿æ¥
          min-idle: 0                # è¿æ¥æ± ä¸­çš„æœ€å°ç©ºé—²è¿æ¥

  # æ•°æ®åº“é…ç½®
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver  # MySQLé©±åŠ¨
    url: ${DB_URL:jdbc:mysql://localhost:3306/exam_system?useUnicode=true&characterEncoding=utf8&allowPublicKeyRetrieval=true&useSSL=false&serverTimezone=Asia/Shanghai}
    username: ${DB_USERNAME:root}  # æ•°æ®åº“ç”¨æˆ·å
    password: ${DB_PASSWORD:root}  # æ•°æ®åº“å¯†ç 

  # Jacksoné…ç½®
  jackson:
    date-format: yyyy-MM-dd HH:mm:ss  # æ—¥æœŸæ ¼å¼
    time-zone: GMT+8                  # æ—¶åŒºè®¾ç½®
    default-property-inclusion: NON_NULL  # ä¸åºåˆ—åŒ–nullå€¼

  servlet:
    multipart:
      max-file-size: 150MB   # å•ä¸ªæ–‡ä»¶æœ€å¤§150MB
      max-request-size: 150MB # å•æ¬¡è¯·æ±‚æœ€å¤§150MB

# MyBatis Plusé…ç½®
mybatis-plus:
  configuration:
    map-underscore-to-camel-case: true  # ä¸‹åˆ’çº¿è½¬é©¼å³°
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl  # SQLæ—¥å¿—è¾“å‡º
  global-config:
    db-config:
      id-type: auto  # ä¸»é”®ç­–ç•¥
      logic-delete-field: deleted  # é€»è¾‘åˆ é™¤å­—æ®µ
      logic-delete-value: 1  # é€»è¾‘åˆ é™¤å€¼
      logic-not-delete-value: 0  # é€»è¾‘æœªåˆ é™¤å€¼
  mapper-locations: classpath*:/mapper/**/*.xml  # Mapperæ–‡ä»¶ä½ç½®
  type-aliases-package: com.exam.entity

# æ—¥å¿—é…ç½®
logging:
  level:
    com.exam: debug  # é¡¹ç›®åŒ…è·¯å¾„çš„æ—¥å¿—çº§åˆ«
    org.springframework.web: debug  # Spring Webæ—¥å¿—çº§åˆ«

# AI æœåŠ¡é…ç½® - åƒé—®å¤§æ¨¡å‹
qwen:
  api:
    base-url: ${QWEN_API_BASE_URL:https://dashscope.aliyuncs.com/compatible-mode/v1}
    api-key: ${QWEN_API_KEY:your-api-key-here}  # åƒé—®APIå¯†é’¥
    model: ${QWEN_MODEL:qwen-plus}  # ä½¿ç”¨qwen-plusæ¨¡å‹
    max-tokens: 2000  # æœ€å¤§ç”Ÿæˆtokenæ•°
    temperature: 0.3  # è¾ƒä½çš„temperatureç¡®ä¿åˆ¤å·ç»“æœç¨³å®š

# MinIO æ–‡ä»¶å­˜å‚¨é…ç½®
minio:
  endpoint: ${MINIO_ENDPOINT:http://localhost:9000}  # MinIOæœåŠ¡å™¨åœ°å€
  bucket-name: ${MINIO_BUCKET:exam-system}  # å­˜å‚¨æ¡¶åç§°
  username: ${MINIO_USERNAME:minioadmin}  # ç”¨æˆ·å
  password: ${MINIO_PASSWORD:minioadmin}  # å¯†ç 
  url-expiry: 604800  # URLè¿‡æœŸæ—¶é—´ï¼ˆç§’ï¼‰ï¼Œé»˜è®¤7å¤©

# æœ¬åœ°æ–‡ä»¶å­˜å‚¨é…ç½®ï¼ˆå¤‡ç”¨ï¼‰
# file:
#   upload:
#     path: ./uploads/  # æœ¬åœ°æ–‡ä»¶å­˜å‚¨è·¯å¾„
#     url-prefix: http://localhost:8080/files/  # æ–‡ä»¶è®¿é—®URLå‰ç¼€

# Knife4j APIæ–‡æ¡£é…ç½®
knife4j:
  enable: true  # å¯ç”¨Knife4jå¢å¼ºåŠŸèƒ½
  openapi:
    title: ğŸ“ æ™ºèƒ½è€ƒè¯•ç³»ç»ŸAPIæ–‡æ¡£  # æ–‡æ¡£æ ‡é¢˜
    description: ğŸ“š åŸºäºSpring Boot + MyBatis Pluså¼€å‘çš„æ™ºèƒ½è€ƒè¯•ç³»ç»Ÿ  # æ–‡æ¡£æè¿°
    version: v1.0.0  # APIç‰ˆæœ¬
    concat: ğŸ« æ™ºèƒ½è€ƒè¯•ç³»ç»Ÿå¼€å‘å›¢é˜Ÿ  # è”ç³»äººä¿¡æ¯
  setting:
    language: zh_cn  # ç•Œé¢è¯­è¨€è®¾ç½®ä¸ºä¸­æ–‡
    enable-version: true  # å¯ç”¨ç‰ˆæœ¬æ§åˆ¶
    enable-swagger-models: true  # å¯ç”¨æ•°æ®æ¨¡å‹å±•ç¤º
    enable-document-manage: true  # å¯ç”¨æ–‡æ¡£ç®¡ç†åŠŸèƒ½
    enable-reload-cache-parameter: false  # ç¦ç”¨ç¼“å­˜é‡è½½å‚æ•°
    enable-after-script: true  # å¯ç”¨afterScriptåŠŸèƒ½
    enable-filter-multipart-api-method-type: POST  # è¿‡æ»¤æ–‡ä»¶ä¸Šä¼ æ¥å£çš„è¯·æ±‚æ–¹å¼
    enable-filter-multipart-apis: false  # ä¸è¿‡æ»¤æ–‡ä»¶ä¸Šä¼ æ¥å£
    enable-request-cache: true  # å¯ç”¨è¯·æ±‚ç¼“å­˜
    enable-host: false  # ç¦ç”¨hostæ˜¾ç¤º
